{% extends 'basefront.html.twig' %}

{% block bodysection %}
  <div class="container my-5">
    <h1 class="text-center mb-5">Recherche d'offres d'emploi</h1>
    <div class="row justify-content-center">
      <div class="col-md-8">
        {{ form_start(form, { method: 'GET', action: path('app_offre') }) }}
          <div class="row mb-3">
            <div class="col">
              {{ form_widget(form.poste, {'attr': {'class': 'form-control', 'placeholder': 'Poste'}}) }}
            </div>
            <div class="col">
              {{ form_widget(form.lieu, {'attr': {'class': 'form-control', 'placeholder': 'Lieu'}}) }}
            </div>
            <div class="col-auto">
              <button type="submit" class="btn btn-primary">Rechercher</button>
            </div>
          </div>
        {{ form_end(form) }}
      </div>
    </div>

    <div class="row justify-content-center">
      {% for offre in offres %}
        <div class="col-md-4 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">{{ offre.poste }}</h5>
              <p class="card-text">{{ offre.description }}</p>
              <div class="d-flex justify-content-between align-items-center">
                <p class="card-text">{{ offre.lieu }}</p>
                <div class="btn-group">
                  <a href="{{ path('app_offre_show', {'id': offre.idOffre}) }}" class="btn btn-sm btn-outline-secondary">Details</a>
                  <a href="{{ path('delete', {'id': offre.idOffre}) }}" class="btn btn-sm btn-outline-danger">Supprimer</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="row justify-content-center">
      <div class="col-auto">
        {{ knp_pagination_render(offres, 'offre/pagination_template.html.twig') }}
      </div>
    </div>
      <button class="btn btn-primary" onclick="location.href='{{ path('createOffre') }}'">Create new</button>

  </div>
{% endblock %}
